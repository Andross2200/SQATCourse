<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabor Arpad Nemeth">

<title>6. Model based testing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-1a3a3ddb157f3ae3b1223cb331bd1f66.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/JacksonFurrier/SQAT">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/JacksonFurrier/SQAT/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../topics/1_unit_basic.html">Topics</a></li><li class="breadcrumb-item"><a href="../topics/6_model_based_testing.html">6. Model based testing</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/1_unit_basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Unit testing basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/10_selenium.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. Selenium testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/11_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Environment setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/2_unit_adv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Unit testing advanced</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/3_unit_mock_basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Mocking basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/4_unit_mock_adv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Mocking advanced</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/5_performance_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Performance testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/6_model_based_testing.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">6. Model based testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics/9_gitlab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. Gitlab techniques</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../topics/1_unit_basic.html">Topics</a></li><li class="breadcrumb-item"><a href="../topics/6_model_based_testing.html">6. Model based testing</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">6. Model based testing</h1>
<p class="subtitle lead">The tale of testing for IPM-22fkbSQTG</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Gabor Arpad Nemeth <a href="mailto:nga@inf.elte.hu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-2554-9860" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Eötvös Loránd University (Hungary)
          </p>
        <p class="affiliation">
            
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<p><img src="../images/model_based/Model-based testing-1st part_0.jpg" class="img-fluid"></p>
<ul>
<li>Short agenda:</li>
<li>Theory background of MBT (Model-based testing)</li>
<li>FSM (Finite State Machine) models</li>
<li>Editing specification models with GraphWalker Studio</li>
<li>Generate simple test sequences with…
<ul>
<li>GraphWalker Studio and</li>
<li>Model 》 Test 》 Relax</li>
</ul></li>
</ul>
<p>Degree of automatization</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>from the view of test execution</p>
<p>Degree of automatization</p>
<p>Manually designed</p>
<p>from the view of test design</p>
<p>Test cases are designed by a test engineer based on specification</p>
<ul>
<li>Test cases are generated automatically from a test model or from the specification
<ul>
<li>→ <strong>MBT (Model-based testing) </strong></li>
</ul></li>
</ul>
<p>Degree of automatization</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>from the view of test execution</p>
<p>Degree of automatization</p>
<p>Manually designed</p>
<p>from the view of test design</p>
<p>Degree of automatization</p>
<p>MBT:</p>
<p>Generated tests</p>
<p>Automatic test execution,</p>
<p>Manual test design</p>
<p>Manual test execution</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<section id="model-based-testing" class="level1">
<h1>Model-based testing</h1>
<p><img src="../images/model_based/Model-based testing-1st part_1.jpg" class="img-fluid"></p>
<ul>
<li>Conformance testing
<ul>
<li>Given
<ul>
<li>Specification model
<ul>
<li><em>white box</em></li>
</ul></li>
<li>Implementation model
<ul>
<li><em>black box</em></li>
</ul></li>
</ul></li>
<li>Test if the implementation conforms to the specification?
<ul>
<li>Ie. determine if the two corresponding model descriptions are equivalent</li>
</ul></li>
</ul></li>
</ul>
<p>Specification</p>
<p>model</p>
<p><img src="../images/model_based/Model-based testing-1st part_2.jpg" class="img-fluid"></p>
<p>Implementation</p>
<p>model</p>
<p><img src="../images/model_based/Model-based testing-1st part_3.jpg" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_4.jpg" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm---a-formal-specification-model" class="level1">
<h1>FSM - a formal specification model</h1>
<p><em>state transition graph</em> <em>:</em></p>
<p><em>state transition table</em> <em>:</em></p>
<ul>
<li><em>Finite State Machine</em></li>
<li><em>(Mealy-model)</em></li>
<li>M=(I, O, S, T)
<ul>
<li>I: set of input symbols</li>
<li>O: set of output symbols</li>
<li>S: set of states
<ul>
<li>so: initial state</li>
</ul></li>
<li>T: S x I → S x O: set of transitions
<ul>
<li>δ : S x I → S: next state function</li>
<li>λ : S x I → O: output function</li>
<li>Each t T: t=( <em>s</em> <em>x</em> _ _ , <em>s</em> <em>y</em> _ _ , <em>i</em> <em>x</em> _ _ , <em>o</em> <em>x</em> )</li>
</ul></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_5.png" class="img-fluid"></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">a</th>
<th style="text-align: center;">b</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">s0</td>
<td style="text-align: center;">s1, 0</td>
<td style="text-align: center;">s2, 0</td>
</tr>
<tr class="even">
<td style="text-align: center;">s1</td>
<td style="text-align: center;">s3, 1</td>
<td style="text-align: center;">s0, 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">s2</td>
<td style="text-align: center;">s2, 1</td>
<td style="text-align: center;">s3, 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">s3</td>
<td style="text-align: center;">s0, 0</td>
<td style="text-align: center;">s1, 0</td>
</tr>
</tbody>
</table>
<p><img src="../images/model_based/Model-based testing-1st part_6.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm-based-conformance-testing" class="level1">
<h1>FSM-based conformance testing</h1>
<p><img src="../images/model_based/Model-based testing-1st part_7.jpg" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_8.jpg" class="img-fluid"></p>
<p>Implementation:</p>
<p>FSM <em>Imp</em> <em>l</em></p>
<p><em>(black box)</em></p>
<p>Specification:</p>
<p>FSM <em>M</em></p>
<p><em>(white box)</em></p>
<p>Implementation FSM <em>Impl</em> ,</p>
<p>SUT</p>
<p>Specification FSM <em>M</em></p>
<p>Implementation FSM <em>Impl</em> ,</p>
<p>SUT</p>
<p><em>FSM-based testing</em></p>
<p><em>FSM-based test generation</em></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm-exercise" class="level1">
<h1>FSM exercise</h1>
<ul>
<li><strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Märklin</a></strong> <strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Battery-Operated Signal</a></strong></li>
<li>Explore the functionality of the given device</li>
<li>&amp; write a specification for it!</li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_9.png" class="img-fluid"></p>
<p>The device has 2 LEDs (red and green), a 2-way switch and a press button.</p>
<p>The 2-way switch turns the device off or on. When the device is turned on,</p>
<p>the green LED lights up.</p>
<p>The button can be used to change which LED lights; red or green.</p>
<p>If no button is pressed for 7 secs the device changes the lights.</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<ul>
<li><strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Märklin</a></strong> <strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Battery-Operated Signal</a></strong></li>
<li>Explore the functionality of the given device &amp; write a specification for it!</li>
<li>Create an FSM based on the specification!
<ul>
<li>Create a state transition table</li>
<li>Create a state transition graph</li>
<li><em>Waiting</em> _ for _ <em>7 seconds can be handled</em> _ as special _ <em>timeout</em> _ input message_</li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_10.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_11.png" class="img-fluid"></p>
<p><em>state transition table</em> <em>:</em></p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><span style="color:#ff0000">Next state / output</span></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm-exercise-solution" class="level1">
<h1>FSM exercise: solution</h1>
<p><img src="../images/model_based/Model-based testing-1st part_12.png" class="img-fluid"></p>
<p><em>state transition table</em> <em>:</em></p>
<p><em>state transition graph</em> <em>:</em></p>
<p><img src="../images/model_based/Model-based testing-1st part_13.png" class="img-fluid"></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;"><strong>switch on</strong></th>
<th style="text-align: center;"><strong>switch off</strong></th>
<th style="text-align: center;"><strong>press button</strong></th>
<th style="text-align: center;"><strong>wait for 7 secs</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>s_off</strong></td>
<td style="text-align: center;">sgreen/green</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>s_green</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">soff/-</td>
<td style="text-align: center;">sred/red</td>
<td style="text-align: center;">sred/red</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>s_red</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">soff/-</td>
<td style="text-align: center;">sgreen/green</td>
<td style="text-align: center;">sgreen/green</td>
</tr>
</tbody>
</table>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm-exercise-1" class="level1">
<h1>FSM exercise</h1>
<ul>
<li><strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Märklin</a></strong> <strong><a href="https://www.maerklin.de/en/products/details/article/72201/">Battery-Operated Signal</a></strong></li>
<li>Explore the functionality of the given device &amp; write a specification for it!</li>
<li>Create an FSM based on the specification!</li>
<li>Design an input/output sequence to test all functionalities of the specification!</li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_14.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_15.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="fsm-exercise-solution-1" class="level1">
<h1>FSM exercise: solution</h1>
<p><img src="../images/model_based/Model-based testing-1st part_16.png" class="img-fluid"></p>
<p><em>state transition table</em> <em>:</em></p>
<p><em>state transition graph</em> <em>:</em></p>
<p><img src="../images/model_based/Model-based testing-1st part_17.png" class="img-fluid"></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;"><strong>switch on</strong></th>
<th style="text-align: center;"><strong>switch off</strong></th>
<th style="text-align: center;"><strong>press button</strong></th>
<th style="text-align: center;"><strong>wait for 7 secs</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>s_off</strong></td>
<td style="text-align: center;">sgreen/green</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>s_green</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">soff/-</td>
<td style="text-align: center;">sred/red</td>
<td style="text-align: center;">sred/red</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>s_red</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">soff/-</td>
<td style="text-align: center;">sgreen/green</td>
<td style="text-align: center;">sgreen/green</td>
</tr>
</tbody>
</table>
<p><em>example test sequence:</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Action (input)</th>
<th style="text-align: center;">Desired output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">switch on</td>
<td style="text-align: center;">green</td>
</tr>
<tr class="even">
<td style="text-align: center;">wait for 7 secs</td>
<td style="text-align: center;">red</td>
</tr>
<tr class="odd">
<td style="text-align: center;">wait for 7 secs</td>
<td style="text-align: center;">green</td>
</tr>
<tr class="even">
<td style="text-align: center;">press button</td>
<td style="text-align: center;">red</td>
</tr>
<tr class="odd">
<td style="text-align: center;">switch off</td>
<td style="text-align: center;">-</td>
</tr>
<tr class="even">
<td style="text-align: center;">switch on</td>
<td style="text-align: center;">green</td>
</tr>
<tr class="odd">
<td style="text-align: center;">press button</td>
<td style="text-align: center;">red</td>
</tr>
<tr class="even">
<td style="text-align: center;">press button</td>
<td style="text-align: center;">green</td>
</tr>
<tr class="odd">
<td style="text-align: center;">switch off</td>
<td style="text-align: center;">-</td>
</tr>
</tbody>
</table>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker" class="level1">
<h1>GraphWalker</h1>
<p>Open source, free MBT tool with GUI</p>
<p>Easy-to-use</p>
<p><a href="https://github.com/GraphWalker/graphwalker-project/wiki">Good documentation</a></p>
<p>Working process:</p>
<p>Creating a model</p>
<p>Write adaptation code that interacts with the SUT</p>
<p>Generate tests</p>
<p>Executing tests</p>
<p><img src="../images/model_based/Model-based testing-1st part_18.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-installation-and-start" class="level1">
<h1>GraphWalker Studio: Installation and start</h1>
<ul>
<li>Installation prerequisites:
<ul>
<li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Download</a> and install Java JDK (or at least Java RE) and add to path</li>
<li>(using <em>JAVA_PATH</em> <a href="https://www.java.com/en/download/help/path.xml">system environment variable</a> in Windows)</li>
</ul></li>
<li>Install model editor:
<ul>
<li>Download <a href="https://graphwalker.github.io/download#studio">GraphWalker</a><a href="https://graphwalker.github.io/download#studio">Studio</a></li>
</ul></li>
<li>After installation:</li>
<li>Click on GraphWalker Studio file <em>(graphwalker-studio-4.3.2.jar)</em></li>
<li>Open a web browser and type <a href="http://localhost:9090/studio.html">http://localhost:9090/studio.html</a></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_19.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_20.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-battery-operated-signal" class="level1">
<h1>GraphWalker Studio: Battery-operated signal</h1>
<ul>
<li>Draw the FSM of battery-operated signal in <a href="https://graphwalker.github.io/download#studio">GW</a><a href="https://graphwalker.github.io/download#studio">Studio</a>
<ul>
<li>Set up names for states (vertices) and transitions (edges)</li>
<li>Set <em>s_off</em> _ _ as starting state</li>
<li>At the current stage do not care outputs <em>(they can be saved as variables if you insist)</em></li>
<li>Save the model as <span style="color:#ff0000"> <em>Toy_train_signal.json</em> </span></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_21.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_22.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_23.png" class="img-fluid"></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;"><strong>switch on</strong></th>
<th style="text-align: center;"><strong>switch off</strong></th>
<th style="text-align: center;"><strong>press button</strong></th>
<th style="text-align: center;"><strong>wait for 7 secs</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>s_off</strong></td>
<td style="text-align: center;">s_green/green</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
<td style="text-align: center;"><span style="color:#000000">-</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>s_green</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">s_off/-</td>
<td style="text-align: center;">s_red/red</td>
<td style="text-align: center;">s_red/red</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>s_red</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">s_off/-</td>
<td style="text-align: center;">s_green/green</td>
<td style="text-align: center;">s_green/green</td>
</tr>
</tbody>
</table>
<hr>
<p>Marklin_signal.json:</p>
<p>{“models”:[{“edges”:[{“id”:“245193c0-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_switch_on”,“sourceVertexId”:“fbbb1ad0-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=false;green=true;”]},{“id”:“25768bc0-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_switch_off_1”,“sourceVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fbbb1ad0-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=false;green=false;”]},{“id”:“2711ec40-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_button_2”,“sourceVertexId”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=false;green=true;”]},{“id”:“27fd84c0-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_switch_off_2”,“sourceVertexId”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fbbb1ad0-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=false;green=false;”]},{“id”:“2ca62540-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_button_1”,“sourceVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=true;green=false;”]},{“id”:“2de38740-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_timeout_2”,“sourceVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=true;green=false;”]},{“id”:“350935b0-ffaa-11e9-9a69-4730271f6faf”,“name”:“e_timeout_1”,“sourceVertexId”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“targetVertexId”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“actions”:[“red=false;green=true;”]}],“generator”:“random(edge_coverage(100))”,“id”:“ed0da0c0-ffa9-11e9-9a69-4730271f6faf”,“name”:“Marklin_signal”,“startElementId”:“fbbb1ad0-ffa9-11e9-9a69-4730271f6faf”,“vertices”:[{“id”:“fbbb1ad0-ffa9-11e9-9a69-4730271f6faf”,“name”:“v_off”,“properties”:{“x”:419.9303700326808,“y”:151.57749027539762}},{“id”:“fcdc4240-ffa9-11e9-9a69-4730271f6faf”,“name”:“v_red”,“properties”:{“x”:788.0063509461097,“y”:453}},{“id”:“fd8d42c0-ffa9-11e9-9a69-4730271f6faf”,“name”:“v_green”,“properties”:{“x”:477.8680578138044,“y”:355.877712836475}}]}],“selectedModelIndex”:0,“selectedElementId”:“245193c0-ffaa-11e9-9a69-4730271f6faf”}</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-help-41-create-a-model" class="level1">
<h1>GraphWalker Studio help 4/1: Create a model</h1>
<ul>
<li><strong>Create a vertex</strong> : On the&nbsp;editor&nbsp;area, while pressing the keyboard key&nbsp; <span style="color:#ff0000"> <em>v</em> </span> , click the&nbsp; <em>left mouse button</em> .</li>
<li><strong>Create an edge</strong> : On the&nbsp;editor area, while pressing the keyboard key&nbsp; <span style="color:#ff0000"> <em>e</em> </span>
<ul>
<li><em>Click and hold the&nbsp;left mouse button&nbsp;on the first vertex</em> .</li>
<li><em>Drag the mouse cursor to the second vertex and release the left mouse button over that vertex</em> .</li>
</ul></li>
<li><strong>Change the properties of a vertex/edge</strong> :
<ul>
<li>Select the given element with mouse click</li>
<li>then click on at the left panel and</li>
<li>Set the given property
<ul>
<li>Name</li>
<li>Guarding conditions</li>
<li>Output/actions</li>
<li>Start element or not?</li>
</ul></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_24.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_25.png" class="img-fluid"></p>
<p><span style="color:#ff0000">Selected element</span></p>
<p><span style="color:#ff0000">Add guarding conditions</span></p>
<p><span style="color:#ff0000">Add output/actions</span></p>
<p><span style="color:#ff0000">Set as start element</span></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-help-42-generators" class="level1">
<h1>GraphWalker Studio help 4/2: Generators</h1>
<p><strong>Define stopping conditions for tests:</strong></p>
<p><strong>edge_coverage</strong> __ __ (an integer representing percentage of desired edge coverage)</p>
<p><strong>vertex_coverage</strong> __ __ (an integer representing percentage of desired vertex coverage)</p>
<p><strong>requirement_coverage</strong> __ __ (an integer representing percentage of desired requirement coverage)</p>
<p><strong>dependency_edge_coverage</strong> __ __ (an integer representing dependency threshold)</p>
<p><strong>reached_vertex</strong> __ __ (the name of the vertex to reach)</p>
<p><strong>reached_edge</strong> __ __ (the name of the edge to reach)</p>
<p><strong>time_duration</strong> __ __ (an integer representing the number of seconds to run)</p>
<p><strong>length</strong> (an integer representing the total numbers of edge-vertex pairs)</p>
<p><strong>never</strong></p>
<p><img src="../images/model_based/Model-based testing-1st part_26.png" class="img-fluid"></p>
<p><strong>Define generator:</strong></p>
<p><strong>random</strong> (some stop condition(s))</p>
<p><strong>weighted_random</strong> __ __ (some stop condition(s))</p>
<p><strong>quick_random</strong> __ __ (some stop condition(s))</p>
<p><strong>a_star</strong> __ __ (a stop condition that names a vertex or an edge )</p>
<p><strong>predefined_path</strong> (predefined_path)</p>
<p><strong>Define delays after each step</strong></p>
<p><a href="https://github.com/GraphWalker/graphwalker-project/wiki/Generators-and-stop-conditions">More info in user guide</a></p>
<hr>
<p>The corresponding part of the user guide:</p>
<p>Generators A&nbsp;generator&nbsp;is an algorithm that decides how to traverse a model. Different generators will generate different test sequences, and they will navigate in different ways. Multiple generators can be daisy chained, concatenated. random( some stop condition(s) ) Navigate through the model in a completely random manner, also called “Drunkard’s walk”, or “Random walk”. This algorithm selects an out-edge from a vertex by random, and repeats the process in the next vertex. weighted_random( some stop condition(s) ) Same as the&nbsp;random path generator&nbsp;(see above), but will use the&nbsp;weight&nbsp;keyword when generating a path. The weight is assigned to edges only, and it represents the probability of an edge getting chosen. quick_random( some stop condition(s) ) Tries to run the shortest path through a model, but in a fast way. This is how the algorithm works: Choose an edge not yet visited by random. Select the shortest path to that edge using Dijkstra’s algorithm Walk that path, and mark all the executed edges as visited. When reaching the selected edge in step 1, start all over, repeating steps 1-4. The algorithm works well for very large models, and generates reasonably short sequences. The downside is when used in conjunction with&nbsp;EFSM, the algorithm can choose a path which is blocked by a guard. a_star( a stop condition that names a vertex or an edge ) Will generate the shortest path to a specific vertex or edge. shortest_all_paths ==&gt; (Not released yet) Will calculate and generate the shortest path through the model. The cost for every edge is set to 1. This algorithm is not recommended because for larger models, and using data in the model&nbsp;EFSM, it will take a considerable time to calculate. Stop conditions A&nbsp;stop condition&nbsp;is condition that decides when a path is completed. The generator will generate a new step in the path until the stop condition is fulfilled. edge_coverage( an integer representing percentage of desired edge coverage ) The stop condition is a percentage. When, during execution, the percentage of traversed edges is reached, the test is stopped. If an edge is traversed more than once, it still counts as 1 when calculating the percentage coverage. vertex_coverage( an integer representing percentage of desired vertex coverage ) The stop condition is a percentage. When, during execution, the percentage of traversed states is reached, the test is stopped. If a vertex is traversed more than once, it still counts as 1 when calculating the percentage coverage. requirement_coverage( an integer representing percentage of desired requirement coverage ) The stop condition is a percentage. When, during execution, the percentage of traversed requirements is reached, the test is stopped. If a requirement is traversed more than once, it still counts as 1 when calculating the percentage coverage. dependency_edge_coverage( an integer representing dependency threshold ) The stop condition is a percentage. When, during execution, all of the traversed edges with dependency higher or equal to the dependency threshold are reached, the test is stopped. If an edge is traversed more than once, it still counts as 1, when calculating the percentage coverage. reached_vertex( the name of the vertex to reach ) The stop condition is a named vertex. When, during execution, the vertex is reached, the test is stopped. reached_edge( the name of the edge to reach ) The stop condition is a named edge. When, during execution, the edge is reached, the test is stopped. time_duration( an integer representing the number of seconds to run ) The stop condition is a time, representing the number of seconds that the test generator is allowed to execute. Please note that the time is compared with the execution for the whole test. This means that if you for example have: 2 models with common shared states both having&nbsp;time_duration&nbsp;stop condition set to 60 seconds Then both models will stop executing after 60 seconds, even if one of the models have not been visited. length( an integer ) The stop condition is a number, representing the total numbers of edge-vertex pairs generated by a generator. For example, if the number is 110, the test sequence would be 220 do-check actions (110 pairs of edges and vertices). never This special stop condition will never halt the generator.</p>
<p>Examples Will never stop generating a path sequence. Executes forever in a random fashion. random(never)</p>
<p>Walk randomly until the vertex coverage has reached 100%. random(vertex_coverage(100))</p>
<p>Walk randomly until the edge coverage has reached 50%. random(edge_coverage(50))</p>
<p>Walk randomly until the vertex&nbsp;v_SomeVertex&nbsp;is reached. random(reached_vertex(v_SomeVertex))</p>
<p>Walk the shortest path to the edge&nbsp;e_SomeEdge&nbsp;and then stop. a_star(reached_edge(e_SomeEdge))</p>
<p>Walk randomly until the requirement coverage has reached 100%. random(requirement_coverage(100))</p>
<p>Walk randomly for 500 seconds. random(time_duration(500))</p>
<p>Walk randomly until the path sequence has reached a length of 24 elements of edges and vertices. random(length(24))</p>
<p>Walk randomly until the edge coverage has reached 100%, or we have executed for 500 seconds. random(edge_coverage(100) or time_duration(500))</p>
<p>Walk randomly until the edge coverage has reached 100%, or we have executed for 500 seconds (same as above). random(edge_coverage(100) || time_duration(500))</p>
<p>Walk randomly until the edge coverage has reached 100%, and we have reached the vertex&nbsp;v_SomeVertex. random(reached_vertex(v_SomeVertex) and edge_coverage(100))</p>
<p>Walk randomly until the edge coverage has reached 100%, and we have reached the vertex&nbsp;v_SomeVertex&nbsp;(same as above). random(reached_vertex(v_SomeVertex) &amp;&amp; edge_coverage(100))</p>
<p>Walk randomly until we have executed for 500 seconds, or we have both reached vertex&nbsp;v_SomeVertex&nbsp;and reached 100% vertex coverage. random((reached_vertex(v_SomeVertex) and vertex_coverage(100)) || time_duration(500))</p>
<p>Walk randomly until the edge coverage has reached 100% and we have reached the vertex&nbsp;v_SomeVertex. Then start using the next strategy: walk randomly for 1 hour. random(reached_vertex(v_SomeVertex) and edge_coverage(100)) random(time_duration(3600))</p>
<p>Walk randomly until all the edges with dependency higher or equal to 85% are reached. random(dependency_edge_coverage(85))</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-help-43-test-execution" class="level1">
<h1>GraphWalker Studio help 4/3: Test execution</h1>
<ul>
<li>Execute the tests:</li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_27.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>Pause test execution</p>
<p><img src="../images/model_based/Model-based testing-1st part_28.png" class="img-fluid"></p>
<p>Stop test execution</p>
<p>Blue: unvisited transition / state</p>
<p>Green: traversed transition / visited state</p>
<p>Black: currently executes</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-battery-operated-signal-1" class="level1">
<h1>GraphWalker Studio: Battery-operated signal</h1>
<ul>
<li>Run the tests in <a href="error:ppt-link-parsing-issue">GW Studio</a>
<ul>
<li>…using different generators:
<ul>
<li>random / quick_random / weighted_random / a_star</li>
</ul></li>
<li>…using different stopping conditions:
<ul>
<li>edge_coverage / vertex_coverage (% of desired coverage)</li>
<li>reached_vertex / reached_edge (desired destination)</li>
<li>time_duration / length</li>
</ul></li>
<li>Run the generator with given settings multiple times!
<ul>
<li>What can you observe? Why?</li>
</ul></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_29.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_30.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<ul>
<li>Some examples using different generators:</li>
<li><span style="color:#ff0000"> <strong>weighted_random</strong> </span> (edge_coverage(100))
<ul>
<li>Same as random, but uses weight keyword (a float value between 0.0 and 1.0 can be assigned to edges of the graph) as a probability to select an edge when generate a path
<ul>
<li>If no weight keyword is used for edges, then the probabilities will be the same for these edges</li>
</ul></li>
</ul></li>
</ul>
<p>Compared to random generator the length of test sequences are longer due the weighted distribution of edges (in my 5 conducted experiments they were <span style="color:#7030a0"> <strong>14, 24, 25, 40</strong> </span> , and <span style="color:#7030a0"> <strong>41</strong> </span> )</p>
<p><img src="../images/model_based/Model-based testing-1st part_31.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<ul>
<li>Some examples using different generators:</li>
<li><span style="color:#ff0000"> <strong>quick_random</strong> </span> (edge_coverage(100))
<ul>
<li>Choose an edge not yet visited by random and find the shortest path to that edge using Dijkstra’s algorithm</li>
<li>Mark all edges in this park as visited then continue with step 1 till stopping condition fulfilled</li>
<li>Gives reasonable short test sequences, but do not care the guarding conditions of EFSMs (see next lesson)</li>
<li>In my 5 conducted experiments quick_random traverses <span style="color:#7030a0"> <strong>9, 9, 11, 11</strong> </span> <span style="color:#7030a0"> </span> and <span style="color:#7030a0"> <strong>12</strong> </span> edges, respectively, to fulfill 100% edge cover condition, thus it is better than generator random. The optimal solution derived by <a href="slide29.xml">TT-method</a> requires only 9 edge traversals (the graph has 7 edges)</li>
<li>Thus in multiple executions we can observe different test sequence lengths due random walking approach.</li>
</ul></li>
<li><span style="color:#ff0000"> <strong>a_star</strong> </span> <span style="color:#ff0000"> <strong>(</strong> </span> <span style="color:#ff0000"> <strong>reached_vertex</strong> </span> <span style="color:#ff0000"> <strong>(</strong> </span> <span style="color:#ff0000"> <strong>v_red</strong> </span> <span style="color:#ff0000"> <strong>))</strong> </span>
<ul>
<li>Reaches a given vertex or edge (defined in stopping condition) with the least cost using the <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A* algorithm</a></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_32.png" class="img-fluid"></p>
<p><em>Screenshot from </em> <em>GraphWalker</em> _ CLI version_</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>Some examples using different generators:</p>
<p><span style="color:#ff0000"> <strong>predefined_path</strong> </span> <span style="color:#ff0000"> <strong>(</strong> </span> <span style="color:#ff0000"> <strong>predefined_path</strong> </span> <span style="color:#ff0000"> <strong>)</strong> </span></p>
<p>Enables the user to define an edge sequence that GraphWalker will use when executing. The predefined path can be specified by the user manually in the model file, or the <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#6-test-generation">test suites generated by Model 》Test 》 Relax</a> can be added to the model using the <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#9211-predefined_path-of-graphwalker">--</a><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#9211-predefined_path-of-graphwalker">predefined_path</a><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#9211-predefined_path-of-graphwalker">flag of Model 》Test 》 Relax</a></p>
<p>{</p>
<p>“models”:[</p>
<p>{</p>
<p>“generator”: “predefined_path(predefined_path)”,</p>
<p>“name”:“Toy_train_signal”,</p>
<p>“startElementId”:“n2”,</p>
<p>“id”:“08414683-68cb-4f68-be4c-670cd27f6cbe”,</p>
<p>“vertices”:[</p>
<p>...</p>
<p>],</p>
<p>“edges”:[</p>
<p>...</p>
<p>],</p>
<p>“predefinedPathEdgeIds”:[</p>
<p>“e1„,”e3”, “e5”, “e3”, “e4”,</p>
<p>“e0”, “e2”, “e1”, “e6”</p>
<p>]</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p><img src="../images/model_based/Model-based testing-1st part_33.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="graphwalker-studio-summary-of-random-generators" class="level1">
<h1>GraphWalker Studio: Summary of Random Generators</h1>
<ul>
<li>Random tests
<ul>
<li>Can be useful for exploratory testing</li>
<li>Not repeatable
<ul>
<li>No suitable for regression tests → suitable only for educational purposes/small projects/augmenting of other testing infrastructure</li>
</ul></li>
<li>Tests are not optimal
<ul>
<li>Impractical for the functional testing of a large-scale software</li>
</ul></li>
</ul></li>
</ul>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="some-systematic-test-generation-algorithms" class="level1">
<h1>Some systematic test generation algorithms</h1>
<p>n: number of states</p>
<p>p: number of input symbols</p>
<p>m: number of transitions</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;"><strong>Test generation algorithm</strong></th>
<th style="text-align: center;"><strong>Complexity of test generation</strong></th>
<th style="text-align: center;"><strong>Complexity of test suite</strong></th>
<th style="text-align: center;"><strong>Structure of test suite</strong></th>
<th style="text-align: center;"><strong>Coverage</strong></th>
<th style="text-align: center;"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#63-all-state">All-State</a></strong> <strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#63-all-state">(AS)</a></strong></td>
<td style="text-align: center;">O(n2)</td>
<td style="text-align: center;">O(m)</td>
<td style="text-align: center;">1 test sequence</td>
<td style="text-align: center;">100% state coverage</td>
<td style="text-align: center;">Heuristic algorithm</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#64-transition-tour">Transition Tour (TT)</a></strong></td>
<td style="text-align: center;">O(n3+m)</td>
<td style="text-align: center;">O(m)</td>
<td style="text-align: center;">1 test sequence</td>
<td style="text-align: center;">100% state- and transition coverage. It guarantees to discover all output faults, but does not guarantee to find transfer faults</td>
<td style="text-align: center;">The resulting test sequence is the shortest possible tour that provides 100% state- and transition coverage</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#65-all-transition-state">All-Transition-State (ATS)</a></strong></td>
<td style="text-align: center;">O(n3+m) (ATS0 version), O(η(n3+m)) (iterative version),</td>
<td style="text-align: center;">O(m) (ATS0 version), O(η⋅m) (iterative version),</td>
<td style="text-align: center;">1 test sequence (with subparts)</td>
<td style="text-align: center;">It guarantees to discover all output faults and it finds virtually all transfer faults</td>
<td style="text-align: center;">Heuristic algorithm</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#67-harmonized-state-identifiers">Harmonized State Identifiers (HSI)</a></strong></td>
<td style="text-align: center;">O(p⋅n3)</td>
<td style="text-align: center;">O(p⋅n3)</td>
<td style="text-align: center;">Structured test suite with multiple test sequences</td>
<td style="text-align: center;">It guarantees to discover output and transfer faults and given number of extra states in implementation</td>
<td style="text-align: center;">An improved version of this method exist, called H-method</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#68-h-method">H-method</a></strong></td>
<td style="text-align: center;">O(p⋅n3)</td>
<td style="text-align: center;">O(p⋅n3)</td>
<td style="text-align: center;">Structured test suite with multiple test sequences</td>
<td style="text-align: center;">It guarantees to discover output and transfer faults and given number of extra states in implementation</td>
<td style="text-align: center;">Improvement of the HSI-method</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#69-n-switch-coverage">N-Switch</a></strong> <strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#69-n-switch-coverage">C</a></strong> <strong><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#69-n-switch-coverage">overage</a></strong></td>
<td style="text-align: center;"><em>O((N+1) · m</em> <em>(k+1) · (N+1)</em> <em>)</em> , where <em>k=[0..N]</em> iteration limit</td>
<td style="text-align: center;">O((N+1) · mN+1)</td>
<td style="text-align: center;">1 test sequence</td>
<td style="text-align: center;">It covers all topologically possible, consecutive <em>N+1</em> transitions</td>
<td style="text-align: center;">The test generation time and the size of the resulting test sequence dramatically increases if <em>N</em> or the size of the input model increases!</td>
</tr>
</tbody>
</table>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax" class="level1">
<h1>Model 》 Test 》 Relax</h1>
<p>Open source, free MBT tool</p>
<p>Developed in ELTE Faculty of Informatics</p>
<p>Easy-to-use</p>
<p>Models can be imported from GraphWalker Studio</p>
<p>Has <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#6-test-generation">systematic test generation algorithms</a>, <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#53-model-conversions">model conversions</a></p>
<p>Has <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md">good user guide</a> and <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/applications/application_examples.md">sample test projects</a></p>
<p><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/releases/3.6.0">Download executable (R5: Green kingfisher (v3.6.0)) from here</a></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-import-model-from-graphwalker-studio" class="level1">
<h1>Model 》 Test 》 Relax: Import model from GraphWalker Studio</h1>
<p>Models created with GraphWalker Studio does not handle input and output symbols, while Model 》 Test 》 Relax does.</p>
<p>There are 2 options to handle this:</p>
<p>1. Add i/o symbols to the model encoded in the edge names using the following format: edge_name <span style="color:#ff0000"> <strong>|</strong> </span> <em>input</em> <span style="color:#ff0000"> <strong>/</strong> </span> <em>output</em></p>
<p><img src="../images/model_based/Model-based testing-1st part_34.png" class="img-fluid"></p>
<p><em>(ASCII code for </em> <span style="color:#ff0000"> <em>|</em> </span> _ and _ <span style="color:#ff0000"> <em>/</em> </span> _ characters are _ <span style="color:#ff0000"> <em>124</em> </span> _ and _ <span style="color:#ff0000"> <em>047</em> </span> <em>, respectively;</em></p>
<p><em>hold down ALT while type the character code using the numeric keypad). </em></p>
<p>Then you can apply <a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#537-add-inputoutput-symbols-to-the-model">Add input/output symbols to the model</a><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#537-add-inputoutput-symbols-to-the-model"></a><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#537-add-inputoutput-symbols-to-the-model">functionality</a> of Model 》 Test 》 Relax:</p>
<p>./MTR -o conversion -m add_iosymbols -f &lt;path&gt;/&lt;name of your model&gt;</p>
<p><em>Note that the converted model is included in Model 》Test 》 Relax repository:</em></p>
<p><em>See </em> <em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">sample_models/introduction/</a></em></p>
<p><em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">Toy_train_signal.json</a></em></p>
<p><img src="../images/model_based/Model-based testing-1st part_35.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_36.png" class="img-fluid"></p>
<p><span style="color:#ff0000"> <em>These warnings are expected as we did not define outputs for switch off transitions </em> </span></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>OR:</p>
<p>2. Add input/output symbols manually into in the <em>Toy_train_signal.json</em> _ _ JSON model (see “edges” in model file) after the “input” and “output” keywords:</p>
<p>{</p>
<p>“models”:[</p>
<p>{</p>
<p>“name”:“Toy_train_signal”,</p>
<p>“startElementId”:“n2”,</p>
<p>“id”:“08414683-68cb-4f68-be4c-670cd27f6cbe”,</p>
<p>“vertices”:[</p>
<p>{</p>
<p>“id”:“n0”,</p>
<p>“name”:“s_green”,</p>
<p>“properties”:{</p>
<p>“x”:20,</p>
<p>“y”:263.5</p>
<p>}</p>
<p>},</p>
<p>{</p>
<p>“id”:“n1”,</p>
<p>“name”:“s_red”,</p>
<p>“properties”:{</p>
<p>“x”:364,</p>
<p>“y”:392</p>
<p>}</p>
<p>},</p>
<p>{</p>
<p>“id”:“n2”,</p>
<p>“name”:“s_off”,</p>
<p>“properties”:{</p>
<p>“x”:112,</p>
<p>“y”:68</p>
<p>}</p>
<p>}</p>
<p>],</p>
<p>“edges”:[</p>
<p>{</p>
<p>“id”:“e0”,</p>
<p>“name”:“e_button_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n1”,</p>
<p>“input” : “press button”,</p>
<p>“output” : “red”,</p>
<p>“weight”: “0.3”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e1”,</p>
<p>“name”:“e_switch_on”,</p>
<p>“sourceVertexId”:“n2”,</p>
<p>“targetVertexId”:“n0”,</p>
<p><span style="color:#ff0000">“input” : “switch on”,</span></p>
<p><span style="color:#ff0000"> “output” : “green”,</span></p>
<p>“weight”: “1”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e2”,</p>
<p>“name”:“e_switch_off_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n2”,</p>
<p><span style="color:#ff0000">“input” : “switch off”,</span></p>
<p><span style="color:#ff0000"> “output” : ““,</span></p>
<p>“weight”: “0.1”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e3”,</p>
<p>“name”:“e_timeout_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n1”,</p>
<p><span style="color:#ff0000">“input” : “timeout(7s)”,</span></p>
<p><span style="color:#ff0000"> “output” : “red”,</span></p>
<p>“weight”: “0.6”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e4”,</p>
<p>“name”:“e_button_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n0”,</p>
<p><span style="color:#ff0000">“input” : “press button”,</span></p>
<p><span style="color:#ff0000"> “output” : “green”,</span></p>
<p>“weight”: “0.3”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e5”,</p>
<p>“name”:“e_timeout_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n0”,</p>
<p><span style="color:#ff0000">“input” : “timeout(7s)”,</span></p>
<p><span style="color:#ff0000"> “output” : “green”,</span></p>
<p>“weight”: “0.6”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e6”,</p>
<p>“name”:“e_switch_off_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n2”,</p>
<p><span style="color:#ff0000">“input” : “switch off”,</span></p>
<p><span style="color:#ff0000"> “output” : ““,</span></p>
<p>“weight”: “0.1”</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p>]</p>
<p>}</p>
<p><em>Note that this model is included in the Model 》Test 》 Relax repository:</em></p>
<p><em>See </em> <em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">sample_models</a></em> <em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">/</a></em> <em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">introduction/</a></em></p>
<p><em><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/Toy_train_signal.json">Toy_train_signal.json</a></em></p>
<p><img src="../images/model_based/Model-based testing-1st part_37.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-systematic-test-generation" class="level1">
<h1>Model 》 Test 》 Relax: Systematic test generation</h1>
<ul>
<li><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#63-all-state">Transition Tour (TT)</a>:
<ul>
<li>Shortest tour that provides 100 state and transition coverage</li>
<li>Based on <a href="https://en.wikipedia.org/wiki/Chinese_postman_problem">Directed Chinese Postman Problem</a></li>
<li>./MTR -o t -m tt -f sample_models/introduction/Toy_train_signal.json <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span></li>
<li><span style="color:#0070c0"> <em>Note that the </em> </span> <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span> <span style="color:#00b050"> </span> <span style="color:#0070c0"> <em>option </em> </span> <span style="color:#0070c0"> <em>add an</em> </span> <span style="color:#0070c0"> _ optional transition name/id list to the test cases, but not required for test generation_ </span></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_38.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<p>./MTR -o t -m tt -f sample_models/introduction/Toy_train_signal.json <span style="color:#ffc000">--</span> <span style="color:#ffc000">graphviz</span> <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span></p>
<p><span style="color:#00b0f0"> <em>Console</em> </span> <span style="color:#00b0f0"> _ output:_ </span></p>
<p>Add transition lists into test suite</p>
<p>Create output to visualize models with <a href="https://graphviz.org/">Graphviz</a></p>
<p><img src="../images/model_based/Model-based testing-1st part_39.png" class="img-fluid"></p>
<p>Short summary about programs settings</p>
<p>Short summary about input model</p>
<p>TG: Test generator component</p>
<p>Main steps of test generation</p>
<p>Short summary about the resulting test sequence</p>
<p>Test summary csv file is saved here</p>
<p>Resulting test suite is saved here</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<ul>
<li>Open a generated test sequence in <em>test_suites</em> folder <em>(</em> <em>Toy_train_signal-TT_suite.json</em> _ _ <em>→ </em> <em>Transition Tour)</em> :</li>
</ul>
<p>{</p>
<p>“test_suite”: {</p>
<p>“name”: “Toy_train_signal”,</p>
<p>“id”: “08414683-68cb-4f68-be4c-670cd27f6cbe”,</p>
<p>“method”: “TT”,</p>
<p>“input_list”: [</p>
<p>“switch on”,</p>
<p>“timeout(7s)”,</p>
<p>“timeout(7s)”,</p>
<p>“timeout(7s)”,</p>
<p>“press button”,</p>
<p>“press button”,</p>
<p>“switch off”,</p>
<p>“switch on”,</p>
<p>“switch off”</p>
<p>],</p>
<p>“output_list”: [</p>
<p>“green”,</p>
<p>“red”,</p>
<p>“green”,</p>
<p>“red”,</p>
<p>“green”,</p>
<p>“red”,</p>
<p>““,</p>
<p>“green”,</p>
<p>“”</p>
<p>],</p>
<p>“transition_id_list”: [</p>
<p>“e1”,</p>
<p>“e3”,</p>
<p>“e5”,</p>
<p>“e3”,</p>
<p>“e4”,</p>
<p>“e0”,</p>
<p>“e2”,</p>
<p>“e1”,</p>
<p>“e6”</p>
<p>],</p>
<p>“transition_name_list”: [</p>
<p>“e_switch_on”,</p>
<p>“e_timeout_1”,</p>
<p>“e_timeout_2”,</p>
<p>“e_timeout_1”,</p>
<p>“e_button_2”,</p>
<p>“e_button_1”,</p>
<p>“e_switch_off_2”,</p>
<p>“e_switch_on”,</p>
<p>“e_switch_off_1”</p>
<p>]</p>
<p>}</p>
<p>}</p>
<p>Name of the model</p>
<p>Used test generation algorithm</p>
<p>Transition lists are optional</p>
<p>(see <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span> switch)</p>
<p>It can be used for learning/self checking or if one would like to import the results to GraphWalker</p>
<p>List of applied input symbols</p>
<p>List of desired output symbols derived from specification model</p>
<p><img src="../images/model_based/Model-based testing-1st part_40.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-1" class="level1">
<h1>Model 》 Test 》 Relax</h1>
<ul>
<li>Apply the generated test suite into the System Under Test
<ul>
<li><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/sample_models/introduction/introduction_examples.md#the-simulator">Toy Train Signal simulator</a></li>
</ul></li>
</ul>
<p>{</p>
<p>“test_suite”: {</p>
<p>“name”: “Toy_train_signal”,</p>
<p>“id”: “08414683-68cb-4f68-be4c-670cd27f6cbe”,</p>
<p>“method”: “TT”,</p>
<p>“input_list”: [</p>
<p>“switch on”,</p>
<p>“timeout(7s)”,</p>
<p>“timeout(7s)”,</p>
<p>“timeout(7s)”,</p>
<p>“press button”,</p>
<p>“press button”,</p>
<p>“switch off”,</p>
<p>“switch on”,</p>
<p>“switch off”</p>
<p>],</p>
<p>“output_list”: [</p>
<p>“green”,</p>
<p>“red”,</p>
<p>“green”,</p>
<p>“red”,</p>
<p>“green”,</p>
<p>“red”,</p>
<p>““,</p>
<p>“green”,</p>
<p>“”</p>
<p>],</p>
<p>“transition_id_list”: [</p>
<p>“e1”,</p>
<p>“e3”,</p>
<p>“e5”,</p>
<p>“e3”,</p>
<p>“e4”,</p>
<p>“e0”,</p>
<p>“e2”,</p>
<p>“e1”,</p>
<p>“e6”</p>
<p>],</p>
<p>“transition_name_list”: [</p>
<p>“e_switch_on”,</p>
<p>“e_timeout_1”,</p>
<p>“e_timeout_2”,</p>
<p>“e_timeout_1”,</p>
<p>“e_button_2”,</p>
<p>“e_button_1”,</p>
<p>“e_switch_off_2”,</p>
<p>“e_switch_on”,</p>
<p>“e_switch_off_1”</p>
<p>]</p>
<p>}</p>
<p>}</p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-systematic-test-generation-1" class="level1">
<h1>Model 》 Test 》 Relax: Systematic test generation</h1>
<ul>
<li><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#63-all-state">All-State (AS)</a>:
<ul>
<li>Traverses all states using <a href="https://en.wikipedia.org/wiki/Nearest_neighbour_algorithm">Nearest</a><a href="https://en.wikipedia.org/wiki/Nearest_neighbour_algorithm">Neighbour</a><a href="https://en.wikipedia.org/wiki/Nearest_neighbour_algorithm"></a>heuristic</li>
<li>./MTR -m AS -f sample_models/introduction/Toy_train_signal.json <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span></li>
<li><span style="color:#0070c0"> <em>Note that the </em> </span> <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span> <span style="color:#00b050"> </span> <span style="color:#0070c0"> <em>option </em> </span> <span style="color:#0070c0"> <em>add an</em> </span> <span style="color:#0070c0"> _ optional transition name/id list to the test cases, but not required for test generation_ </span></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_41.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
<ul>
<li><a href="https://gitlab.inf.elte.hu/nga/ModelTestRelax/-/blob/master/docs/user_guide.md#65-all-transition-state">All-Transition-State (ATS)</a>:
<ul>
<li>Provides a tour that traverses all transitions, then all states and then tries to find alternative routes to states</li>
<li>./MTR -m ATS -f sample_models/introduction/Toy_train_signal.json <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span></li>
<li><span style="color:#0070c0"> <em>Note that the </em> </span> <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span> <span style="color:#00b050"> </span> <span style="color:#0070c0"> <em>option </em> </span> <span style="color:#0070c0"> <em>add an</em> </span> <span style="color:#0070c0"> _ optional transition name/id list to the test cases, but not required for test generation_ </span></li>
</ul></li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_42.png" class="img-fluid"></p>
<p><img src="../images/model_based/Model-based testing-1st part_43.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-import-generated-tests-into-graphwalker" class="level1">
<h1>Model 》 Test 》 Relax: Import generated tests into GraphWalker</h1>
<ul>
<li>Generate test suite with the Transition Tour (TT) algorithm on the toy train signal example model using the --predefined_path flag:</li>
<li>./MTR -o t -m tt -f sample_models/introduction/Toy_train_signal.json -- <span style="color:#ff0000"> <strong>predefined_path</strong> </span> <span style="color:#ff0000"> __ __ </span></li>
<li>Execute the test suite in GraphWalker Studio.</li>
</ul>
<p><img src="../images/model_based/Model-based testing-1st part_44.png" class="img-fluid"></p>
<p><span style="color:#7e7e7e">G. Á. Németh: Software quality and testing / Model-based testing</span></p>
</section>
<section id="model-test-relax-import-test-suites-into-graphwalker" class="level1">
<h1>Model 》 Test 》 Relax: Import test suites into GraphWalker</h1>
<p>{</p>
<p>“models”:[</p>
<p>{</p>
<p><span style="color:#ff0000"> “generator”: “</span> <span style="color:#ff0000">predefined_path</span> <span style="color:#ff0000">(</span> <span style="color:#ff0000">predefined_path</span> <span style="color:#ff0000">)“,</span></p>
<p>“name”:“Toy_train_signal”,</p>
<p>“startElementId”:“n2”,</p>
<p>“id”:“08414683-68cb-4f68-be4c-670cd27f6cbe”,</p>
<p>“vertices”:[</p>
<p>{</p>
<p>“id”:“n0”,</p>
<p>“name”:“s_green”,</p>
<p>“properties”:{</p>
<p>“x”:20,</p>
<p>“y”:263.5</p>
<p>}</p>
<p>},</p>
<p>{</p>
<p>“id”:“n1”,</p>
<p>“name”:“s_red”,</p>
<p>“properties”:{</p>
<p>“x”:364,</p>
<p>“y”:392</p>
<p>}</p>
<p>},</p>
<p>{</p>
<p>“id”:“n2”,</p>
<p>“name”:“s_off”,</p>
<p>“properties”:{</p>
<p>“x”:112,</p>
<p>“y”:68</p>
<p>}</p>
<p>}</p>
<p>],</p>
<p>“edges”:[</p>
<p>{</p>
<p>“id”:“e0”,</p>
<p>“name”:“e_button_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n1”,</p>
<p>“input” : “press button”,</p>
<p>“output” : “red”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e1”,</p>
<p>“name”:“e_switch_on”,</p>
<p>“sourceVertexId”:“n2”,</p>
<p>“targetVertexId”:“n0”,</p>
<p>“input” : “switch on”,</p>
<p>“output” : “green”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e2”,</p>
<p>“name”:“e_switch_off_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n2”,</p>
<p>“input” : “switch off”,</p>
<p>“output” : “”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e3”,</p>
<p>“name”:“e_timeout_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n1”,</p>
<p>“input” : “timeout(7s)”,</p>
<p>“output” : “red”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e4”,</p>
<p>“name”:“e_button_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n0”,</p>
<p>“input” : “press button”,</p>
<p>“output” : “green”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e5”,</p>
<p>“name”:“e_timeout_2”,</p>
<p>“sourceVertexId”:“n1”,</p>
<p>“targetVertexId”:“n0”,</p>
<p>“input” : “timeout(7s)”,</p>
<p>“output” : “green”</p>
<p>},</p>
<p>{</p>
<p>“id”:“e6”,</p>
<p>“name”:“e_switch_off_1”,</p>
<p>“sourceVertexId”:“n0”,</p>
<p>“targetVertexId”:“n2”,</p>
<p>“input” : “switch off”,</p>
<p>“output” : “”</p>
<p>}</p>
<p>],</p>
<p><span style="color:#ff0000">“</span> <span style="color:#ff0000">predefinedPathEdgeIds</span> <span style="color:#ff0000">“:[</span></p>
<p><span style="color:#ff0000"> “e1”,</span></p>
<p><span style="color:#ff0000"> “e3”,</span></p>
<p><span style="color:#ff0000"> “e5”,</span></p>
<p><span style="color:#ff0000"> “e3”,</span></p>
<p><span style="color:#ff0000"> “e4”,</span></p>
<p><span style="color:#ff0000"> “e0”,</span></p>
<p><span style="color:#ff0000"> “e2”,</span></p>
<p><span style="color:#ff0000"> “e1”,</span></p>
<p><span style="color:#ff0000"> “e6”</span></p>
<p><span style="color:#ff0000"> ]</span></p>
<p>}</p>
<p>]</p>
<p>}</p>
<ul>
<li>Add a new generator property to the JSON model with predefined_path(predefined_path) value.</li>
<li>Add predefinedPathEdgeIds property to the JSON model. It’s value must be the same as the transition_id_list field of the test suite generated by Model 》 Test 》 Relax (when <span style="color:#00b050">--</span> <span style="color:#00b050">transition_list</span> <span style="color:#00b050"> </span> switch was enabled)</li>
<li>Execute the test suite in GraphWalker Studio.</li>
</ul>
<p>This is the transition_id_list part of the test sequence generated by Model 》 Test 》 Relax using the ./MTR -o t -m tt -f sample_models/introduction/Toy_train_signal.json --transition_list command</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>